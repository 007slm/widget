define("arale/widget/1.0.3/templatable",["$","gallery/handlebars/1.0.0/handlebars"],function(a,b,c){function g(a){return d(i(a))}function h(a,b){var c=a.find(b);if(0===c.length)throw new Error("Invalid template selector: "+b);return j(c.html())}function i(a){return a.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-templatable-$1=$2$3$2")}function j(a){return a.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-templatable-/gi,"")}var d=a("$"),e=a("gallery/handlebars/1.0.0/handlebars"),f={};c.exports={templateHelpers:null,templateObject:null,parseElementFromTemplate:function(){this.templateObject=g(this.template),this.element=d(this.compile())},compile:function(a,b){a||(a=this.template),b||(b=this.model),b.toJSON&&(b=b.toJSON());var c=this.templateHelpers;if(c)for(var d in c)c.hasOwnProperty(d)&&e.registerHelper(d,c[d]);var g=f[a];g||(g=f[a]=e.compile(a));var h=g(b);if(c)for(d in c)c.hasOwnProperty(d)&&delete e.helpers[d];return h},renderPartial:function(a){var b=h(this.templateObject,a);return this.$(a).html(this.compile(b)),this}}});